{"id":759,"date":"2016-06-01T09:13:25","date_gmt":"2016-06-01T09:13:25","guid":{"rendered":"http:\/\/davidegerosa.com\/?page_id=759"},"modified":"2021-01-04T08:37:23","modified_gmt":"2021-01-04T08:37:23","slug":"svn2git","status":"publish","type":"page","link":"https:\/\/davidegerosa.com\/svn2git\/","title":{"rendered":"Farewell SVN, I&#8217;m a GIT guy now!"},"content":{"rendered":"<p>This is a supershort guide to migrate old SVN repositories to GIT, and from one GIT server to another&#8230;<\/p>\n<h3>SVN to GIT<\/h3>\n<p>I was using SVN to handle my research projects, then discovered GIT and it&#8217;s definitely another life. The are a few things that\u00a0are different between the two\u00a0systems, although some commands are similar, which may indeed be confusing. There are a billion of GIT tutorials on the web, but if you&#8217;re looking\u00a0for a recommendation, I found <a href=\"https:\/\/www.atlassian.com\/git\" target=\"_blank\" rel=\"noopener noreferrer\">this<\/a> page from Bitbucket very nice!<\/p>\n<p>So, you have many SVN repos and want to switch to GIT? I am going to assume you have very simple SVN repositories (one single branch, no tags) like I used to have. If you have a more complicated structure, have a look <a href=\"https:\/\/git-scm.com\/book\/en\/v2\/Git-and-Other-Systems-Migrating-to-Git\" target=\"_blank\" rel=\"noopener noreferrer\">here<\/a> and <a href=\"http:\/\/www.sailmaker.co.uk\/blog\/2013\/05\/05\/migrating-from-svn-to-git-preserving-branches-and-tags-3\/\" target=\"_blank\" rel=\"noopener noreferrer\">here<\/a>.<\/p>\n<p>You\u00a0need the <a href=\"https:\/\/git-scm.com\/docs\/git-svn\" target=\"_blank\" rel=\"noopener noreferrer\">git-svn<\/a>\u00a0tool. It should be there by default, but if you don&#8217;t have you can\u00a0easily install it from your package manager.<\/p>\n<p>First, enter some directory in your local machine (e.g. where you keep all your geek stuff on GIT, say <code>repositories<\/code>).<\/p>\n<pre>cd ~\/repositories\n<\/pre>\n<p>Now,\u00a0clone your old SNV repository using <code>git svn<\/code>.\u00a0Of course, you need access to it: in the example below I use the svn+ssh protocol, but you may have http here depending on your setup (just to be clear, this is the same link you used to checkout the SVN repo in the first place)<\/p>\n<pre>git svn clone svn+ssh:\/\/USER@HOST\/PATH\/SVNNAME\n<\/pre>\n<p>where <code>USER<\/code>, <code>HOST<\/code>, <code>PATH<\/code>\u00a0and <code>SVNNAME<\/code>\u00a0are the coordinates of your SVN repo.<\/p>\n<p>If you want a remote host (and believe me, you do!), you need to create a repository on some online service. I will use\u00a0<a href=\"https:\/\/bitbucket.org\/dgerosa\/\" target=\"_blank\" rel=\"noopener noreferrer\">bitbucket<\/a> in the example below (I like it a lot, mainly because it gives free <strong><em>unlimited everything<\/em><\/strong> to scientists!) but\u00a0<a href=\"https:\/\/github.com\/dgerosa\" target=\"_blank\" rel=\"noopener noreferrer\">Github<\/a> is also a popular choice. Assuming you have created a repository on the bitbucket website, \u00a0just add it and push.<\/p>\n<pre>cd SVNNAME\ngit remote add origin git@bitbucket.org:USERNAME\/GITNAME\ngit push origin --all\n<\/pre>\n<h3><\/h3>\n<h3>GIT to GIT<\/h3>\n<p>If you&#8217;re already a GIT convert, another useful thing I needed to do is migrate from one server to another (say from <a href=\"https:\/\/bitbucket.org\/dgerosa\/\" target=\"_blank\" rel=\"noopener noreferrer\">bitbucket<\/a> to <a href=\"https:\/\/github.com\/dgerosa\" target=\"_blank\" rel=\"noopener noreferrer\">Github<\/a>, etc). There are a million solutions if you google this problem, but <a href=\"https:\/\/stackoverflow.com\/a\/26552740\" target=\"_blank\" rel=\"noopener noreferrer\">this<\/a> is by far the best one:<\/p>\n<pre><code>git clone --mirror git@bitbucket.org:USERNAME\/OLD_GITNAME\ncd OLD_GITNAME.git\ngit remote set-url origin git@bitbucket.org:USERNAME\/NEW_GITNAME\ngit push --mirror origin\n<\/code><\/pre>\n<h3>Update: repo too big?<\/h3>\n<p>I recently tried to run these commands again, and found out one of my old svn repo was too big for either bitbucket or github. For instance, bitbucket has a soft limit of 1GB and a hard limit of 2GB&#8230; Just want to say that this tool called <a href=\"https:\/\/rtyley.github.io\/bfg-repo-cleaner\/\" target=\"_blank\" rel=\"noopener noreferrer\">bfg<\/a> is great to reduce a repo size while removing only some of the previous history.<\/p>\n<p>That&#8217;s all folks, all previous history and commits are now safely stored in GIT. And of course, if you have troubles the following trick ALWAYS works:<\/p>\n<div id=\"attachment_791\" style=\"width: 340px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/xkcd.com\/1597\/\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-791\" class=\" size-full wp-image-791 aligncenter\" src=\"https:\/\/davidegerosa.files.wordpress.com\/2016\/06\/git.png\" alt=\"git.png\" width=\"330\" height=\"478\" srcset=\"https:\/\/davidegerosa.com\/wp-content\/uploads\/2016\/06\/git.png 330w, https:\/\/davidegerosa.com\/wp-content\/uploads\/2016\/06\/git-207x300.png 207w\" sizes=\"(max-width: 330px) 100vw, 330px\" \/><\/a><p id=\"caption-attachment-791\" class=\"wp-caption-text\"><small> Credit: <a href=\"https:\/\/xkcd.com\/1597\/\" target=\"_blank\" rel=\"noopener noreferrer\">xkcd n. 1597<\/a><\/small><\/p><\/div>\n","protected":false},"excerpt":{"rendered":"<p>This is a supershort guide to migrate old SVN repositories to GIT, and from one GIT server to another&#8230; SVN to GIT I was using SVN to handle my research projects, then discovered GIT and it&#8217;s definitely another life. The &hellip; <a href=\"https:\/\/davidegerosa.com\/svn2git\/\">Continue reading <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":2,"featured_media":620,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"_coblocks_attr":"","_coblocks_dimensions":"","_coblocks_responsive_height":"","_coblocks_accordion_ie_support":"","_monsterinsights_skip_tracking":false,"_monsterinsights_sitenote_active":false,"_monsterinsights_sitenote_note":"","_monsterinsights_sitenote_category":0,"footnotes":""},"class_list":["post-759","page","type-page","status-publish","has-post-thumbnail","hentry"],"jetpack_sharing_enabled":true,"_links":{"self":[{"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/pages\/759"}],"collection":[{"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/comments?post=759"}],"version-history":[{"count":1,"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/pages\/759\/revisions"}],"predecessor-version":[{"id":3776,"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/pages\/759\/revisions\/3776"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/media\/620"}],"wp:attachment":[{"href":"https:\/\/davidegerosa.com\/wp-json\/wp\/v2\/media?parent=759"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}